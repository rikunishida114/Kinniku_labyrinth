# ゲーム企画書（現状反映版）

## 1. ゲーム概要
- **タイトル**: 筋肉ラビリンス（Kinniku Labyrinth）
- **ジャンル**: ボードゲーム / カードゲーム / 対戦型
- **対応プラットフォーム**: PC（Windows/Mac）※将来的にスマホも想定
- **プレイ人数**: 1vs1（オンライン/オフライン）
- **開発環境**: Unity 2022.3 / C#

---

## 2. ゲームコンセプト
- **キャッチコピー**: 「脳まで鍛えろ！」
- **プレイヤー体験**:  
  - 戦略的カード選択 × 限られた移動マスの効率的使用
  - 筋力を鍛えて番人を撃破する達成感
  - 相手との攻防と妨害の駆け引き
  - 壁を用いたイカサマ

---

## 3. ゲームの目的と勝利条件
- プレイヤーは盤面の4隅にある宝箱を集める（現状４つ）
- 宝箱を守る番人を倒す（筋力パラメータが一定以上必要）
- 制限時間内により多くの宝箱を入手したプレイヤーが勝利

---

## 4. ゲームルール

### 4.1 基本の流れ
1. 各ターン開始時にデッキ（20枚）から5枚引く
2. 手札の移動カードの**移動マス合計値**が、そのターンの移動可能マス数
3. 30秒間のターン制限時間の間に、移動・筋トレ・妨害を実行
4. ターン終了後、使用カードは墓地へ
5. 次のターン開始 → 手札を5枚引く → 繰り返し
6. デッキがなくなったら、墓地のカードを山札に戻し、再度シャッフル

### 4.2 行動の種類
- **移動**: 移動カードの合計マス数まで縦横移動可能
- **筋トレ**: ボタン長押しで筋力パラメータ増加
- **妨害**: 壁の設置 / 壁破壊（壁は視界も遮る）

---

## 5. ゲームシステム構成（現状実装）

### 5.1 コアシステム
- **BoardManager** ✅  
  - 9x9の盤面生成  
  - マス間隔(tileSpacing)で配置
- **PlayerController** ✅  
  - 初期位置設定（0,0）
  - 矢印キー移動
  - 移動先チェック (`IsInsideBoard`)
- **DeckManager** 🔄 実装中  
  - デッキ生成・シャッフル・カードドロー（DrawCards）
- **CardUIManager** 🔄 実装中  
  - 手札UIの生成  
  - 移動カードは「◯マス移動」と表示（青色）  
  - その他カードは灰色表示
- **TurnManager** 🔄 実装中  
  - ターンごとの残り時間カウント  
  - 残り移動マス管理
- **States** 🔄 実装中
  - playerにパラメータを付与したい
    - 具体的なパラメータ
      - 筋肉パラメータ
        - 胸腹
        - 背中
        - 足
        - 腕
      - 体力  
    - 筋トレを行うと、筋肉パラメータが上昇

### 5.2 補助システム（未実装）
- **BattleManager**  
  - 接敵時の戦闘フェーズ（ポケモン風画面遷移）
- **ObstacleManager**  
  - 壁の設置・破壊
- **FogOfWarManager**  
  - 視界制限（壁で視界が遮られる）

---

## 6. カード仕様（例）

| カード種別 | 効果 | 表示色 | 備考 |
|------------|------|--------|------|
| 移動       | 指定マス分縦横移動 | 青 | 合計値が移動可能マス数 |
| 筋トレ     | 長押しで筋力UP | 緑 | 番人撃破に必要 |
| 妨害       | 壁設置 / 壁破壊 | 赤 | 一部は破壊可能 |

---

## 7. UI設計（現状と改善案）



## 8. 開発スケジュール（例）

| 期間 | タスク |
|------|--------|
| 1週目 | 盤面生成・プレイヤー移動 ✅ |
| 2週目 | デッキシステム・カードUI（現在進行中） |
| 3週目 | ターン制・制限時間処理 |
| 4週目 | 戦闘フェーズ実装 |
| 5週目 | 妨害・筋トレ機能追加 |
| 6週目 | UI調整・デバッグ |
| 7週目 | cpu 実装 |
---

## 9. 今後の拡張案
- オンライン対戦対応
- 新しいカード効果追加
- マップギミック（落とし穴など）
- カード合成システム
